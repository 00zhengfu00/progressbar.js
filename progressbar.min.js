!function(a,b){"function"==typeof define&&define.amd?define("progressbar",[],function(){return b()}):a.ProgressBar=b()}(this,function(){function a(a,b){a=a||{};for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function b(a){return"string"==typeof a||a instanceof String}function c(a){return"function"==typeof a}var d="webkit moz o ms".split(" "),e=function(a,c){if(0!==arguments.length){var d,e=this._createSvgView(c);d=b(a)?document.querySelector(a):a,d.appendChild(e.svg),this._path=new h(e.path,c)}};e.prototype.animate=function(a,b,c){this._path.stop(),this._path.animate(a,b,c)},e.prototype.stop=function(){this._path.stop()},e.prototype.set=function(a){this._path.set(a)},e.prototype._createSvgView=function(b){b=a({color:"#555",strokeWidth:1,trailColor:"#f4f4f4",fill:null},b);var c=document.createElementNS("http://www.w3.org/2000/svg","svg");if(c.setAttribute("viewBox","0 0 100 100"),b.trailColor){var d=a({},b);d.color=b.trailColor;var e=this._createPath(d);c.appendChild(e)}var f=this._createPath(b);return c.appendChild(f),{svg:c,path:f}},e.prototype._createPath=function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","path");return b.setAttributeNS(null,"d",this._pathString(a)),b.setAttributeNS(null,"stroke",a.color),b.setAttributeNS(null,"stroke-width",a.strokeWidth),a.fill?b.setAttributeNS(null,"fill",a.fill):b.setAttributeNS(null,"fill-opacity","0"),b},e.prototype._pathString=function(){throw new Error("Override this function for each progress bar")};var f=function(){e.apply(this,arguments)};f.prototype=new e,f.prototype.constructor=f,f.prototype._pathString=function(a){var b="M 50,50 m 0,-{r} a {r},{r} 0 1 1 0,{r*2} a {r},{r} 0 1 1 0,-{r*2}",c=50-a.strokeWidth/2;return b=b.replace(/\{r\}/g,c),b=b.replace(/\{r\*2\}/g,2*c)};var g=function(){e.apply(this,arguments)};g.prototype=new e,g.prototype.constructor=g,g.prototype._pathString=function(a){var b="M 0,{s/2} L {w},{s/2} L {w},{w} L {s/2},{w} L {s/2},{s}",c=100-a.strokeWidth/2;return b=b.replace(/\{w\}/g,c),b=b.replace(/\{s\}/g,a.strokeWidth),b=b.replace(/\{s\/2\}/g,a.strokeWidth/2)};var h=function(b,c){c=a({duration:800,easing:"ease-in-out"},c),this._path=b,this._opts=c,this._callbacks={};var d=this._path.getTotalLength();this._path.style.strokeDasharray=d+" "+d,this._path.style.strokeDashoffset=d};h.prototype.set=function(a){this._setTransition("none");var b=this._path.getTotalLength();this._path.style.strokeDashoffset=b-a*b},h.prototype.stop=function(){var a=window.getComputedStyle(this._path,null),b=a.getPropertyValue("stroke-dashoffset");this._path.style.strokeDashoffset=b,this._setTransition("none"),this._removeCallbacks()},h.prototype.animate=function(b,d,e){c(d)&&(e=d,d={});var f=a({},this._opts);if(d=a(f,d),this._setTransition("none"),e){var g=this;this._setCallback("transitionend",function(){e.apply(g,arguments),g._removeCallback("transitionend")})}this._path.getBoundingClientRect();var h="stroke-dashoffset "+d.duration+"ms "+d.easing;this._setTransition(h);var i=this._path.getTotalLength();this._path.style.strokeDashoffset=i-b*i},h.prototype._setTransition=function(a){for(var b=0;b<d.length;++b){var c=d[b].toUpperCase()+d[b].substr(1);this._path.style[c+"Transition"]=a}this._path.style.transition=a},h.prototype._setCallback=function(a,b){this._removeCallback(a),this._path.addEventListener(a,b),this._callbacks[a]=b},h.prototype._removeCallbacks=function(){for(var a in this._callbacks)this._callbacks.hasOwnProperty(a)&&this._removeCallback(a)},h.prototype._removeCallback=function(a){this._callbacks.hasOwnProperty(a)&&this._path.removeEventListener(a,this._callbacks[a])};var i={Circle:f,Square:g,Path:h};return i});
//# sourceMappingURL=progressbar.min.js.map